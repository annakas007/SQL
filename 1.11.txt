 1. Вывести сумму суточных (произведение количества дней командировки и размера суточных)
 для командировок, первый день которых пришелся на февраль или март 2020 года.
 Значение суточных для каждой командировки занесено в столбец per_diem. 
 Вывести фамилию и инициалы сотрудника, город, первый день командировки и сумму суточных.
 Последний столбец назвать Сумма. Информацию отсортировать сначала  в алфавитном порядке
 по фамилиям сотрудников, а затем по убыванию суммы суточных.
 
 select name, city, date_first, (per_diem * (datediff(date_last, date_first) + 1)) as Сумма
 from trip
 where month(date_first) = 2 or month(date_first) = 3
 order by name, Сумма desc;
 
  2.  Вывести фамилию с инициалами и общую сумму суточных, полученных за все 
  командировки для тех сотрудников, которые были в командировках больше чем 3 раза,
  в отсортированном по убыванию сумм суточных виде. Последний столбец назвать Сумма.
  
  select name, sum(per_diem * (datediff(date_last, date_first) + 1)) as Сумма
  from trip
  where name in    ((select name from(
                     select count(name) c, name
                     from trip 
                     group by name
                     having c > 3 
                     order by name) g))
  group by name
  order by Сумма desc;

2. В таблице fine увеличить в два раза сумму неоплаченных штрафов для отобранных 
 на предыдущем шаге записей. 

 Пояснение !!! если не получается запрос или валидатор выдает ошибки, 
 раскройте это пояснение!!!
        Важно! Если в запросе используется несколько таблиц или запросов, включающих 
 одинаковые поля, то применяется полное имя столбца, включающего название таблицы 
 через символ «.». Например,  fine.name  и  query_in.name.
 
 update fine,(
    select name, number_plate, violation
    from fine
    group by  name, number_plate, violation
    having count(violation) > 1
    order by name, number_plate, violation) as new
 set sum_fine = IF(date_payment is NULL, sum_fine*2, sum_fine)
 where fine.name = new.name;

select * from fine;

 3.    в таблицу fine занести дату оплаты соответствующего штрафа из таблицы payment; 
    уменьшить начисленный штраф в таблице fine в два раза  
   (только для тех штрафов, информация о которых занесена в таблицу payment) ,
   если оплата произведена не позднее 20 дней со дня нарушения.
 
 update fine f, payment p
 set f.date_payment = p.date_payment,
    f.sum_fine = if(datediff(p.date_payment, p.date_violation) < 21, f.sum_fine / 2, f.sum_fine)
    where f.violation = p.violation and f.date_violation = p.date_violation;


   select * from fine
   
   4. Создать новую таблицу back_payment, куда внести информацию о 
   неоплаченных штрафах (Фамилию и инициалы водителя, номер машины, нарушение, 
   сумму штрафа  и  дату нарушения) из таблицы fine.

 Пояснение
 Важно. На этом шаге необходимо создать таблицу на основе запроса!
 Не нужно одним запросом создавать таблицу, а вторым в нее добавлять строки.
 
 С помощью запроса на добавление можно не только добавить в 
 таблицу конкретные значения (список VALUES), но и записи из другой таблицы, 
 отобранные с помощью запроса на выборку.  В этом случае вместо раздела VALUES 
 записывается запрос на выборку, начинающийся с SELECT.  В нем можно использовать WHERE, 
 GROUP BY, ORDER BY.
 
 create table back_payment 
 select name, number_plate, violation,sum_fine, date_violation   from fine
 where date_payment is null;

 select * from back_payment
 
 5.Удалить из таблицы fine информацию о нарушениях,
  совершенных раньше 1 февраля 2020 года. 
                                           даты сравнивать через знаки < и/или >=
  delete from fine
  where date_violation < '2020-02-01';

  select * from fine